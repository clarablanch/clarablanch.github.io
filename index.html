<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>artfolio en clarobscur</title>
    <link rel="stylesheet" href="src/main.css">
    <style>
        /* Interactive Section Styles */
        #interactive-section {
            position: relative;
            height: 100vh;
            width: 100%;
            overflow: hidden;
            background: #fff;
            margin-top: calc(100vh - 12cm); /* Push section 2 below section 1, minus 12cm */
        }

        
        /* Layers */
        .bg-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            transition: opacity 0.6s ease;
        }

        .video-bg {
            object-fit: cover;
            z-index: 1;
            width: 100%;
            height: 100%;
        }

        .image-overlay {
            background: url('resources/textimage4.png') no-repeat center center;
            background-size: cover;
            z-index: 2;
            pointer-events: none;
        }

        /* Controls */
        .control-wrapper {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 42%; /* Stops before middle */
            height: 100px;
            z-index: 20;
            display: flex;
            flex-direction: column;
            justify-content: center;
            cursor: pointer;
            transition: opacity 0.4s ease;
        }

        .left-control {
            left: 0;
            align-items: flex-end;
            padding-right: 20px;
        }

        .right-control {
            right: 0;
            align-items: flex-start;
            padding-left: 20px;
        }

        .label-text {
            font-size: 0.875rem;
            font-weight: 500;
            letter-spacing: 0.02em;
            text-transform: lowercase;
            margin-bottom: 10px;
            color: #000;
            background: rgba(255,255,255,0.3);
            padding: 2px 5px;
        }

        .horizontal-line {
            width: 100%;
            height: 1px;
            background-color: #000;
        }

        /* Project Info Text */
        .project-info {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 35%;
            opacity: 0;
            transition: opacity 0.6s ease;
            z-index: 30;
            pointer-events: none;
        }

        .info-left {
            left: 10%;
            color: #fff; /* White text on left */
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }

        .info-right {
            right: 10%;
            color: #000; /* Black text on right */
        }

        /* --- Interaction States --- */
        
        /* Hovering "text" (Left Control) */
        #interactive-section.hover-text .video-bg {
            opacity: 0; /* Video disappears */
        }
        #interactive-section.hover-text .right-control {
            opacity: 0;
        }
        #interactive-section.hover-text .info-right {
            opacity: 1; /* Black text appears on right */
        }

        /* Hovering "image" (Right Control) */
        #interactive-section.hover-image .image-overlay {
            opacity: 0; /* Image overlay disappears */
        }
        #interactive-section.hover-image .left-control {
            opacity: 0;
        }
        #interactive-section.hover-image .info-left {
            opacity: 1; /* White text appears on left */
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-left">
            <a href="#" class="header-link">portfolio</a>
        </div>
        <div class="header-center">
            <div class="lang-switcher">
                <button class="lang-btn active" data-lang="en">en</button>
                <button class="lang-btn" data-lang="cat">cat</button>
            </div>
        </div>
        <div class="header-right">
            <a href="https://clarablanch.hotglue.me/" target="_blank" class="header-link">hotglue.me</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Title -->
        <h1 class="main-title">
            <span data-split="char">artfolio en clarobscur</span>
        </h1>

        <!-- 3D Carousel -->
        <div class="carousel-container">
            <div class="carousel-track">
                <div class="carousel-item">
                    <img src="resources/imatge1.JPG" alt="Image 1">
                </div>
                <div class="carousel-item">
                    <img src="resources/imatge2.JPG" alt="Image 2">
                </div>
                <div class="carousel-item">
                    <img src="resources/imatge3.JPG" alt="Image 3">
                </div>
                <div class="carousel-item">
                    <img src="resources/imatge4.JPG" alt="Image 4">
                </div>
                <div class="carousel-item">
                    <img src="resources/imatge1.JPG" alt="Image 1">
                </div>
            </div>
        </div>

        <!-- Bottom Text -->
        <div class="bottom-text">
            <p>artfolio en clarobscur</p>
        </div>
    </main>

    <!-- Content Section: Interactive Split Screen -->
    <section class="content-section" id="interactive-section">
        <!-- Layer 1: Video -->
        <video class="bg-layer video-bg" autoplay loop muted playsinline>
            <source src="resources/flamingos.mov" type="video/mp4">
        </video>

        <!-- Layer 2: Image Overlay -->
        <div class="bg-layer image-overlay"></div>

        <!-- Left Control: "text" -->
        <div class="control-wrapper left-control" id="ctrl-text">
            <a href="text.html" style="text-decoration: none; color: inherit;">
                <span class="label-text">text</span>
            </a>
            <div class="horizontal-line"></div>
        </div>

        <!-- Right Control: "image" -->
        <div class="control-wrapper right-control" id="ctrl-image">
            <a href="image.html" style="text-decoration: none; color: inherit;">
                <span class="label-text" data-translate="image">image</span>
            </a>
            <div class="horizontal-line"></div>
        </div>

        <!-- Hidden Project Text: Left (White) -->
        <div class="project-info info-left">
            <h2>Project Vision</h2>
            <p>
                The interplay of light and shadow reveals the hidden depths of our perception. 
                When the image fades, the concept remains in stark clarity.
            </p>
        </div>

        <!-- Hidden Project Text: Right (Black) -->
        <div class="project-info info-right">
            <h2>Written Word</h2>
            <p>
                Text provides the structure upon which imagination builds. 
                In the absence of motion, the narrative takes center stage.
            </p>
        </div>
    </section>

    <script src="src/main.js"></script>
    <script>
        // Interactive Section Logic
        document.addEventListener('DOMContentLoaded', () => {
            const section = document.getElementById('interactive-section');
            const textControl = document.getElementById('ctrl-text');
            const imageControl = document.getElementById('ctrl-image');

            if (section && textControl && imageControl) {
                // Hover interactions for "text"
                textControl.addEventListener('mouseenter', () => {
                    section.classList.add('hover-text');
                });
                textControl.addEventListener('mouseleave', () => {
                    section.classList.remove('hover-text');
                });

                // Hover interactions for "image"
                imageControl.addEventListener('mouseenter', () => {
                    section.classList.add('hover-image');
                });
                imageControl.addEventListener('mouseleave', () => {
                    section.classList.remove('hover-image');
                });
            }

            // Language switching for "image" text
            const langButtons = document.querySelectorAll('.lang-btn');
            const imageLabel = document.querySelector('[data-translate="image"]');
            
            langButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const lang = btn.getAttribute('data-lang');
                    
                    // Update active state
                    langButtons.forEach(b => b.classList.remove('active'));
                    btn.classList.add('active');
                    
                    // Update image text
                    if (imageLabel) {
                        if (lang === 'cat') {
                            imageLabel.textContent = 'imatge';
                        } else {
                            imageLabel.textContent = 'image';
                        }
                    }
                });
            });
        });
    </script>
</body>
</html>
